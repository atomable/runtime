'use strict';var _router=require('./router');var _buildEvent=require('./build-event');var _findConfigFiles=require('./find-config-files');var _result=require('./result');module.exports.main=function(call,context,callback){var basePath=context.basePath||'./project/';var config=(0,_result.Result)((0,_findConfigFiles.findConfigFiles)(basePath)).map(function(files){return files.map(extractConfig)}).map(function(configs){return mergeConfigs(configs)}).map(function(config){return(0,_router.router)(config,(0,_buildEvent.buildEvent)(call),basePath)}).get().then(function(res){return callback(null,res)}).catch(function(res){return callback(null,res)})};
//# sourceMappingURL=runtime.js.map