{"version":3,"sources":["../src/router.js"],"names":["router","config","event","basePath","map","route","r","params","executor","get"],"mappings":"AAEA,a,+LAEA,8BACA,gCACA,+CACA,6CACA,0EACA,gEACA,gE,kFAEO,GAAMA,uBAAS,iBAAgBC,MAAhB,CAAwBC,KAAxB,CAA+BC,QAA/B,qJACb,mBAAO,+BAAaF,MAAb,CAAqBC,KAArB,CAAP,EACJE,GADI,CACA,sBAAS,2DAA2BC,KAA3B,CAAkCH,KAAlC,CAAT,CADA,EAEJE,GAFI,CAEA,sBAAS,iDAAsBC,KAAtB,CAA6BH,KAA7B,CAAT,CAFA,EAGJE,GAHI,CAGA,kBAAK,kBAAM,iCAAcE,EAAED,KAAhB,CAAuBH,KAAvB,CAA8BC,QAA9B,EAAwCG,EAAEC,MAA1C,CAAN,CAAL,CAHA,EAIJH,GAJI,CAIA,yBAAY,iDAAsBI,QAAtB,CAAZ,CAJA,EAKJC,GALI,EADa,yDAAf","file":"router.js","sourcesContent":["/* jshint -W097, esversion: 6, strict: true, node: true */\r\n/* global module */\r\n'use strict';\r\n\r\nimport { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\nimport { resolveModule } from './resolve-module';\r\nimport { resolveRoute } from './resolve-route';\r\nimport { validateRequiredParameters } from './validate-required-parameters';\r\nimport { buildModuleParameters } from './build-module-parameters';\r\nimport { handleExecutionResult } from './handle-execution-result';\r\n\r\nexport const router = async function (config, event, basePath) {\r\n  return Result(resolveRoute(config, event))\r\n    .map(route => validateRequiredParameters(route, event))\r\n    .map(route => buildModuleParameters(route, event))\r\n    .map(r => () => resolveModule(r.route, event, basePath)(r.params))\r\n    .map(executor => handleExecutionResult(executor))\r\n    .get();\r\n};"]}