{"version":3,"sources":["../src/router.js"],"names":["router","config","event","basePath","map","route","res","params","module","executor","get"],"mappings":"+FAAA,8BACA,gCACA,+CACA,6CACA,0EACA,gEACA,gE,+iBAEO,GAAMA,qFAAS,iBAAgBC,MAAhB,CAAwBC,KAAxB,CAA+BC,QAA/B,iJACb,mBAAO,+BAAaF,MAAb,CAAqBC,KAArB,CAAP,EACJE,GADI,CACA,sBAAS,2DAA2BC,KAA3B,CAAkCH,KAAlC,CAAT,CADA,EAEJE,GAFI,CAEA,sBAAS,iDAAsBC,KAAtB,CAA6BH,KAA7B,CAAT,CAFA,EAGJE,GAHI,CAGA,oBAAO,iCAAcE,IAAID,KAAlB,CAAyBC,IAAIC,MAA7B,CAAqCJ,QAArC,CAAP,CAHA,EAIJC,GAJI,CAIA,oBAAO,kBAAME,KAAIE,MAAJ,8BAAcF,IAAIC,MAAlB,EAAN,CAAP,CAJA,EAKJH,GALI,CAKA,yBAAY,iDAAsBK,QAAtB,CAAZ,CALA,EAMJC,GANI,EADa,4DAAT,2EAAN","file":"router.js","sourcesContent":["import { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\nimport { resolveModule } from './resolve-module';\r\nimport { resolveRoute } from './resolve-route';\r\nimport { validateRequiredParameters } from './validate-required-parameters';\r\nimport { buildModuleParameters } from './build-module-parameters';\r\nimport { handleExecutionResult } from './handle-execution-result';\r\n\r\nexport const router = async function (config, event, basePath) {\r\n  return Result(resolveRoute(config, event))\r\n    .map(route => validateRequiredParameters(route, event))\r\n    .map(route => buildModuleParameters(route, event))\r\n    .map(res => resolveModule(res.route, res.params, basePath))\r\n    .map(res => () => res.module(...res.params))\r\n    .map(executor => handleExecutionResult(executor))\r\n    .get();\r\n};"]}