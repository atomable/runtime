{"version":3,"sources":["../src/router.js"],"names":["router","configs","event","map","route","res","parameters","module","executor","get"],"mappings":"+FAAA,8BACA,gCACA,+CACA,6CACA,0EACA,gEACA,gE,+iBAEO,GAAMA,qFAAS,iBAAgBC,OAAhB,CAAyBC,KAAzB,iJACb,mBAAO,+BAAaD,OAAb,CAAsBC,KAAtB,CAAP,EACJC,GADI,CACA,sBAAS,2DAA2BC,KAA3B,CAAkCF,KAAlC,CAAT,CADA,EAEJC,GAFI,CAEA,sBAAS,iDAAsBC,KAAtB,CAA6BF,KAA7B,CAAT,CAFA,EAGJC,GAHI,CAGA,oBAAO,iCAAcE,IAAID,KAAlB,CAAyBC,IAAIC,UAA7B,CAAP,CAHA,EAIJH,GAJI,CAIA,oBAAO,kBAAME,KAAIE,MAAJ,8BAAcF,IAAIC,UAAlB,EAAN,CAAP,CAJA,EAKJH,GALI,CAKA,yBAAY,iDAAsBK,QAAtB,CAAZ,CALA,EAMJC,GANI,EADa,4DAAT,uEAAN","file":"router.js","sourcesContent":["import { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\nimport { resolveModule } from './resolve-module';\r\nimport { resolveRoute } from './resolve-route';\r\nimport { validateRequiredParameters } from './validate-required-parameters';\r\nimport { buildModuleParameters } from './build-module-parameters';\r\nimport { handleExecutionResult } from './handle-execution-result';\r\n\r\nexport const router = async function (configs, event) {\r\n  return Result(resolveRoute(configs, event))\r\n    .map(route => validateRequiredParameters(route, event))\r\n    .map(route => buildModuleParameters(route, event))\r\n    .map(res => resolveModule(res.route, res.parameters))\r\n    .map(res => () => res.module(...res.parameters))\r\n    .map(executor => handleExecutionResult(executor))\r\n    .get();\r\n};"]}