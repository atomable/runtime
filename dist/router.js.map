{"version":3,"sources":["../src/router.js"],"names":["router","config","event","basePath","map","route","r","params","executor","get"],"mappings":"+FAAA,8BACA,gCACA,+CACA,6CACA,0EACA,gEACA,gE,0YAEO,GAAMA,qFAAS,iBAAgBC,MAAhB,CAAwBC,KAAxB,CAA+BC,QAA/B,iJACb,mBAAO,+BAAaF,MAAb,CAAqBC,KAArB,CAAP,EACJE,GADI,CACA,sBAAS,2DAA2BC,KAA3B,CAAkCH,KAAlC,CAAT,CADA,EAEJE,GAFI,CAEA,sBAAS,iDAAsBC,KAAtB,CAA6BH,KAA7B,CAAT,CAFA,EAGJE,GAHI,CAGA,kBAAK,kBAAM,iCAAcE,EAAED,KAAhB,CAAuBH,KAAvB,CAA8BC,QAA9B,EAAwCG,EAAEC,MAA1C,CAAN,CAAL,CAHA,EAIJH,GAJI,CAIA,yBAAY,iDAAsBI,QAAtB,CAAZ,CAJA,EAKJC,GALI,EADa,4DAAT,2EAAN","file":"router.js","sourcesContent":["import { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\nimport { resolveModule } from './resolve-module';\r\nimport { resolveRoute } from './resolve-route';\r\nimport { validateRequiredParameters } from './validate-required-parameters';\r\nimport { buildModuleParameters } from './build-module-parameters';\r\nimport { handleExecutionResult } from './handle-execution-result';\r\n\r\nexport const router = async function (config, event, basePath) {\r\n  return Result(resolveRoute(config, event))\r\n    .map(route => validateRequiredParameters(route, event))\r\n    .map(route => buildModuleParameters(route, event))\r\n    .map(r => () => resolveModule(r.route, event, basePath)(r.params))\r\n    .map(executor => handleExecutionResult(executor))\r\n    .get();\r\n};"]}