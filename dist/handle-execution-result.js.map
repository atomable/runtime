{"version":3,"sources":["../src/handle-execution-result.js"],"names":["isPromise","obj","then","buildSuccessResponse","result","status","buildFailureResponse","err","message","handleExecutionResult","moduleExecutor"],"mappings":"AAAA,a,iGAEA,gCAEA,GAAMA,WAAY,QAAZA,UAAY,CAACC,GAAD,QAAS,OAAOA,IAAP,GAAe,WAAf,EAA8B,MAAOA,KAAIC,IAAX,GAAoB,UAA3D,CAAlB,CAEA,GAAMC,sBAAuB,QAAvBA,qBAAuB,CAACC,MAAD,CAAY,CACvC,MAAO,CAAEC,OAAQ,GAAV,CAAeD,aAAf,CACR,CAFD,CAIA,GAAME,sBAAuB,QAAvBA,qBAAuB,CAACC,GAAD,CAAS,CACpC,MAAO,CAAEF,OAAQE,IAAIF,MAAJ,EAAc,GAAxB,CAA6BG,QAASD,IAAIC,OAAJ,EAAeD,GAArD,CACR,CAFD,CAIO,GAAME,qDAAwB,iBAAOC,cAAP,6IAE3BN,MAF2B,CAElBM,gBAFkB,KAG7BV,UAAUI,MAAV,CAH6B,wEAIGA,MAJH,mEAIxBD,oBAJwB,sDAMxBA,qBAAqBC,MAArB,CANwB,2HAS1BE,iCAT0B,wEAA9B","file":"handle-execution-result.js","sourcesContent":["'use strict';\r\n\r\nimport { Result } from './result';\r\n\r\nconst isPromise = (obj) => typeof obj !== 'undefined' && typeof obj.then === 'function';\r\n\r\nconst buildSuccessResponse = (result) => {\r\n  return { status: 200, result };\r\n};\r\n\r\nconst buildFailureResponse = (err) => {\r\n  return { status: err.status || 500, message: err.message || err };\r\n};\r\n\r\nexport const handleExecutionResult = async (moduleExecutor) => {\r\n  try {\r\n    const result = moduleExecutor();\r\n    if (isPromise(result)) {\r\n      return buildSuccessResponse(await result);\r\n    } else {\r\n      return buildSuccessResponse(result);\r\n    }\r\n  } catch (err) {\r\n    return buildFailureResponse(err);\r\n  }\r\n};"]}