{"version":3,"sources":["../src/extract-config.js"],"names":["fs","yaml","extractConfig","filePath","rawConfig","safeLoad","readFileSync","https","map","handler","basePath","replace","path","route","method","parameters","err","status","message"],"mappings":"6UAAA,sB,GAAYA,G,8BACZ,+B,GAAYC,K,yQAEL,GAAMC,qCAAgB,QAAhBA,cAAgB,CAACC,QAAD,CAAc,CACzC,GAAI,qBACF,GAAMC,WAAYH,KAAKI,QAAL,CAAcL,GAAGM,YAAH,CAAgBH,QAAhB,CAA0B,MAA1B,CAAd,CAAlB,CACA,SAAOC,UAAUG,KAAV,CAAgBC,GAAhB,CAAoB,eAAS,CAClC,MAAO,CACLC,QAASL,UAAUK,OADd,CAELC,SAAUP,SAASQ,OAAT,CAAiB,WAAjB,CAA8B,EAA9B,CAFL,CAGLC,KAAMC,MAAMD,IAHP,CAILE,OAAQD,MAAMC,MAJT,CAKLC,WAAYF,MAAME,UALb,CAOR,CARM,CAAP,CAFE,qFAWH,CAAC,MAAOC,GAAP,CAAY,CACZ,MAAO,CAAEC,OAAQ,GAAV,CAAeC,QAAS,oCAAxB,CACR,CACF,CAfM","file":"extract-config.js","sourcesContent":["import * as fs from 'fs';\r\nimport * as yaml from 'js-yaml';\r\n\r\nexport const extractConfig = (filePath) => {\r\n  try {\r\n    const rawConfig = yaml.safeLoad(fs.readFileSync(filePath, 'utf8'));\r\n    return rawConfig.https.map(route => {\r\n      return {\r\n        handler: rawConfig.handler,\r\n        basePath: filePath.replace(/[^\\\\\\/]*$/, ''),\r\n        path: route.path,\r\n        method: route.method,\r\n        parameters: route.parameters\r\n      };\r\n    });\r\n  } catch (err) {\r\n    return { status: 500, message: 'error while parsing config file(s)' };\r\n  }\r\n};"]}