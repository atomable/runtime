'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.resolveRoute=undefined;var _liftjs=require('liftjs');var _result=require('./result');var routeMatchesEvent=function routeMatchesEvent(route,event){return route.path.toLowerCase()===event.path.toLowerCase()&&(event.method===undefined?true:route.method.toLowerCase()===event.method.toLowerCase())};var resolveRoute=exports.resolveRoute=function resolveRoute(configs,event){var config=configs.filter(function(config){return(0,_liftjs.Maybe)(config.https).map(function(route){return routeMatchesEvent(route,event)}).or(false)});if(config.length===0){return{status:404,message:'not found'}}else if(config.length>1){return{status:500,message:'multiple routes matched'}}var matchedConfig=config[0];var matchedRoute=matchedConfig.https;return Object.assign({handler:matchedConfig.handler,basePath:matchedConfig.basePath},matchedRoute)};
//# sourceMappingURL=resolve-route.js.map