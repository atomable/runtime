{"version":3,"sources":["../src/build-module-parameters.js"],"names":["buildModuleParameters","route","event","map","parameters","routeParam","name","params","in","or","x"],"mappings":"AAEA,a,iGAEA,8BACA,gCAEO,GAAMA,qDAAwB,QAAxBA,sBAAwB,CAACC,KAAD,CAAQC,KAAR,CAAkB,CACrD,MAAO,kBAAMD,KAAN,EACJE,GADI,CACA,sBAASF,OAAMG,UAAf,CADA,EAEJD,GAFI,CAEA,2BAAcC,YAAWD,GAAX,CAAe,2BAAcE,YAAWC,IAAX,GAAoB,GAApB,CAC9C,kBAAMJ,MAAMK,MAAN,CAAaF,WAAWG,EAAxB,CAAN,EAAmCC,EAAnC,CAAsC,EAAtC,CAD8C,CAE9C,kBAAMP,MAAMK,MAAN,CAAaF,WAAWG,EAAxB,CAAN,EACGL,GADH,CACO,kBAAKO,GAAEL,WAAWC,IAAb,CAAL,CADP,EAEGG,EAFH,CAEM,EAFN,CAFgC,CAAf,CAAd,CAFA,EAOJN,GAPI,CAOA,oBAAc,CAAE,MAAO,CAAEF,MAAOA,KAAT,CAAgBM,OAAQH,UAAxB,CAAuC,CAP9D,EAQJK,EARI,CAQD,CAAER,MAAOA,KAAT,CAAgBM,OAAQ,EAAxB,CARC,CASR,CAVM","file":"build-module-parameters.js","sourcesContent":["/* jshint -W097, esversion: 6, strict: true, node: true */\r\n/* global module */\r\n'use strict';\r\n\r\nimport { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\n\r\nexport const buildModuleParameters = (route, event) => {\r\n  return Maybe(route)\r\n    .map(route => route.parameters)\r\n    .map(parameters => parameters.map(routeParam => routeParam.name === '*' ?\r\n      Maybe(event.params[routeParam.in]).or({}) :\r\n      Maybe(event.params[routeParam.in])\r\n        .map(x => x[routeParam.name])\r\n        .or({})))\r\n    .map(parameters => { return { route: route, params: parameters }; })\r\n    .or({ route: route, params: [] });\r\n};"]}