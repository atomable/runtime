{"version":3,"sources":["../src/resolve-config.js"],"names":["resolveConfig","configs","event","config","filter","https","map","routes","some","route","path","method","or","length","status","message"],"mappings":"sGAAA,8BACA,gCAEO,GAAMA,qCAAgB,QAAhBA,cAAgB,CAACC,OAAD,CAAUC,KAAV,CAAoB,CAC/C,GAAMC,QAASF,QAAQG,MAAR,CAAe,gBAAU,CACtC,MAAO,kBAAMD,OAAOE,KAAb,EACJC,GADI,CACA,uBAAUC,QAAOC,IAAP,CAAY,sBAASC,OAAMC,IAAN,GAAeR,MAAMQ,IAArB,EAA6BD,MAAME,MAAN,GAAiBT,MAAMS,MAA7D,CAAZ,CAAV,CADA,EAEJC,EAFI,CAED,KAFC,CAGR,CAJc,CAAf,CAMA,GAAIT,OAAOU,MAAP,GAAkB,CAAtB,CAAyB,CACvB,MAAO,CAAEC,OAAQ,GAAV,CAAeC,QAAS,sBAAxB,CACR,CAFD,IAEO,IAAIZ,OAAOU,MAAP,CAAgB,CAApB,CAAuB,CAC5B,MAAO,CAAEC,OAAQ,GAAV,CAAeC,QAAS,yBAAxB,CACR,CAED,MAAOZ,QAAO,CAAP,CACR,CAdM","file":"resolve-config.js","sourcesContent":["import { Maybe } from 'liftjs';\r\nimport { Result } from './result';\r\n\r\nexport const resolveConfig = (configs, event) => {\r\n  const config = configs.filter(config => { \r\n    return Maybe(config.https)\r\n      .map(routes => routes.some(route => route.path === event.path && route.method === event.method))\r\n      .or(false);\r\n  });\r\n\r\n  if (config.length === 0) {\r\n    return { status: 404, message: 'route not configured' };\r\n  } else if (config.length > 1) {\r\n    return { status: 500, message: 'multiple routes matched' };\r\n  }\r\n\r\n  return config[0];\r\n};"]}