{"version":3,"sources":["../src/runtime.js"],"names":["module","exports","main","call","context","callback","basePath","config","map","files","configs","get","then","res","catch"],"mappings":"aAAA,gCACA,yCACA,oDACA,+CACA,6CACA,gCAEAA,OAAOC,OAAP,CAAeC,IAAf,CAAsB,SAACC,IAAD,CAAOC,OAAP,CAAgBC,QAAhB,CAA6B,CACjD,GAAMC,UAAWF,QAAQE,QAAR,EAAoB,YAArC,CAEA,GAAMC,QAAS,mBAAO,qCAAgBD,QAAhB,CAAP,EACZE,GADY,CACR,sBAASC,OAAMD,GAAN,8BAAT,CADQ,EAEZA,GAFY,CAER,wBAAW,+BAAaE,OAAb,CAAX,CAFQ,EAGZF,GAHY,CAGR,uBAAU,mBAAOD,MAAP,CAAe,2BAAWJ,IAAX,CAAf,CAAV,CAHQ,EAIZQ,GAJY,GAKZC,IALY,CAKP,oBAAOP,UAAS,IAAT,CAAeQ,GAAf,CAAP,CALO,EAMZC,KANY,CAMN,oBAAOT,UAAS,IAAT,CAAeQ,GAAf,CAAP,CANM,CAOhB,CAVD","file":"runtime.js","sourcesContent":["import { router } from './router';\r\nimport { buildEvent } from './build-event';\r\nimport { findConfigFiles } from './find-config-files';\r\nimport { extractConfig } from './extract-config';\r\nimport { mergeConfigs } from './merge-configs';\r\nimport { Result } from './result';\r\n\r\nmodule.exports.main = (call, context, callback) => {\r\n  const basePath = context.basePath || './project/';\r\n  \r\n  const config = Result(findConfigFiles(basePath))\r\n    .map(files => files.map(extractConfig))\r\n    .map(configs => mergeConfigs(configs))\r\n    .map(config => router(config, buildEvent(call)))\r\n    .get()\r\n    .then(res => callback(null, res))\r\n    .catch(res => callback(null, res));\r\n};\r\n\r\n"]}